# Hook 仕様案

このプロジェクトでは、GitHub Actions を通じた定期実行を主としているため、Antigravity（エージェント）の動作におけるフックを以下のように定義します。

## フックの種類

### 全般的なルール

- **ドキュメントの同期**: コード変更が発生した際は、必ず関連ドキュメント（`GEMINI.md`、`GEMINI.ja.md` など）を総点検し、最新の状態が反映されるよう修正・更新すること。これは、システムの状態とドキュメントの乖離を防ぐための必須ルールである。

### 1. Pre-Commit (scripts/pre-commit.js)

- **トリガー**: リポジトリへのコミット前。
- **動作**: `config.json` のバリデーションを行い、不正な設定があればコミットを中断する。

### 2. Post-Fetch (scripts/post-fetch.js)

- **トリガー**: ターゲットページの HTML 取得後。
- **動作**: 前回のハッシュと比較し、変化がある場合のみスクリーンショット撮影の準備を行う。

### 3. Post-Screenshot (scripts/post-screenshot.js)

- **トリガー**: スクリーンショット撮影完了後。
- **動作**: 画像のリサイズや、通知用画像 URL の生成を行う。
