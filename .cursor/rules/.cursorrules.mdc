---
description: Project-wide rules and documentation policy for the automate-mon-webpage repository
globs: "*"
---

# Project Rules

- **Language Policy (Communications)**: All responses and communications with the USER must be in **Japanese** (全てのプロンプト応答・対話は日本語で行うこと).
- **Documentation Policy**:
  - **English as Master**: All documentation master files must be in English.
  - **Japanese for Humans**: For every document updated, a Japanese version must be created/updated with the `.ja.md` suffix in the same directory.
  - **AI Restriction**: The Japanese version is for human reference only. AI agents must NOT read `.ja` files and MUST refer to the English master files for context.
  - **Mandatory Header**: All Japanese `.ja.md` files must start with the following header:
    ```markdown
    > [!IMPORTANT]
    > 本ファイルは人間専用の参照用です。AIは本ファイルを読み込まず、必ず英語版を参照してください。
    > This file is for human reference only. AI agents must NOT read this file and MUST refer to the English master version instead.
    ```

- **Technical Guidelines**:
  - **Context**: Verification of `config.json` is critical. Always ensure it is valid JSON with unique `name` fields for targets.
  - **Logic**: The screenshot logic resides in `scripts/screenshot.js`. Do not look for it in the root directory.
  - **Workflows**: Recommend using defined workflows in `.agent/workflows/` for common tasks like adding targets or testing.
  - **Commit Messages**: Use concise, descriptive commit messages. e.g. "feat: add monitoring for [Site Name]" or "fix: update selector for [Site Name]".
  - **History**: Maintain the integrity of the `history/` directory. Do not manually delete history files unless certain they are redundant or incorrect.
  - **Tools**: Note that the monitoring flow relies on `pup` and `jq`. When suggesting logic changes, ensure they remain compatible with these tools in the GitHub Actions environment.
